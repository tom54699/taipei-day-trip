{% extends "base.html" %}

    {% block description %}<meta name="description" content="Taipei Trip 台北一日遊 | 會員中心">{% endblock %}
    {% block title %}<title>Taipei Trip 台北一日遊 | 會員中心</title>{% endblock %}
    {% block link %}    
    <link rel="stylesheet" type="text/css" href="/static/css/memberCenter.css">
    <link rel="stylesheet" type="text/css" href="/static/css/common.css">
    <link rel="stylesheet" type="text/css" href="/static/css/calendar.css">
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/croppie/2.6.5/croppie.css">
    <link rel="stylesheet" href="/static/css/phoneFlag.css"/>
    {% endblock %}

    {% block main %}
    <hr class="separator1"/>
    <aside class="memebercenterLists none">
        <div>
            <div class="memberProfileButton">會員資料</div><div>|</div>
            <div class="memberHistoryOrderButton">歷史訂單</div><div>|</div>
            <div class="calendarButton">行事曆</div>
        </div>
    </aside>
    <div class="resizeHeadshotBox none">
        <div></div>
        <div>
            <div>編輯圖片</div>
            <img class="resizeHeadshot"/>
            <div>
                <div class="resizeHeadshotCancel">取消</div>
                <div class="resizeHeadshotConfirm">確認</div>
            </div>
        </div>
    </div>
    <main class="memebercenterMain none">
        <hr class="separator2"/>
        <section id="memberProfileBox" class=" none">
            <fieldset class="memberProfileField"> 
                <legend>會員個人資料</legend> 
                <aside class="headshot">
                    <img id="preview_img" src=""/>
                    <div class="chooseHeadshotBox none">
                        <button>
                            <label>選擇檔案</label>
                            <input class="headshot_input" type="file" accept="image/gif, image/jpeg, image/png"/>
                        </button>
                    </div>
                    <div class="loadingBox">
                        <div class="lds-dual-ring"></div>
                        <div class="loadingNumber">0 %</div>
                    </div>
                </aside>
                <div>
                    <div>註冊信箱</div>
                    <div class="memberProfile"  id="memberEmail"></div>
                    <img class="hintMessage" src="https://i2.bahamut.com.tw/forum/icons/pixel-Q.svg">
                </div>
                <div>
                    <div>姓名</div>
                    <div class="memberProfile" id="memberName"></div>
                    <input type="text" class="profileEditInput none" placeholder="輸入欲修改姓名" oninput="value=value.replace(/\s+/g,'')"/>
                </div>
                <div>
                    <div>暱稱</div>
                    <div class="memberProfile"  id="memberNickName"></div>
                    <input type="text" class="profileEditInput none" placeholder="輸入新暱稱" oninput="value=value.replace(/\s+/g,'')"/>
                </div>
                <div>
                    <div>出生日期</div>
                    <div class="memberProfile"  id="memberBirthday"></div>
                    <input type="date" class="profileEditInput none" placeholder="輸入欲修改日期" oninput="value=value.replace(/\s+/g,'')"/>
                </div>
                <div>
                    <div>手機號碼</div>
                    <div class="memberProfile"  id="memberPhoneNumber"></div>
                    <input name="memberPhone" type="text" id="memberPhone" class="profileEditInput none" placeholder="輸入新電話號碼" oninput="value=value.replace(/\s+/g,'')"/>
                    <div class="errorProfileMessage none">⚠ 手機號碼格式錯誤</div>
                </div>
                <div>
                    <div>自我介紹</div>
                    <div class="memberProfile"  id="memberIntro"></div>
                    <input class="profileEditInput none" placeholder="輸入欲修改自介" >
                </div>
                <img class="editProfileButton" src="/static/pic/icon_tech_drawings.png">
                <div>
                    <button class="resetProfileButton none">復原</button>
                    <button class="sendProfileButton none" >送出</button>
                </div>

            </fieldset>
            <fieldset class="memberPassword"> 
                <legend>更改密碼<small>（至少 5 個字元，且禁止非法字元。）</small></legend> 
                <div>
                    <div>舊密碼</div>
                    <input type="password" disabled class="passwordEditInput" placeholder="輸入舊密碼" pattern="[0-9a-zA-Z]{5,12}" required oninput="value=value.replace(/\s+/g,'')"/>
                    <div>
                        <img src="/static/pic/eye-solid.svg" class="eye open-eye none">
                        <img src="/static/pic/eye-slash-solid.svg" class="eye closed-eye none">
                    </div>
                </div>
                <p class="errorProfilePassWordMessage none"></p>
                <div>
                    <div>新密碼</div>
                    <input type="password" disabled class="passwordEditInput" placeholder="輸入新密碼" pattern="[0-9a-zA-Z]{5,12}" required oninput="value=value.replace(/\s+/g,'')"/>
                    <div>
                        <img src="/static/pic/eye-solid.svg" class="eye open-eye none">
                        <img src="/static/pic/eye-slash-solid.svg" class="eye closed-eye none">
                    </div>
                </div>
                <p class="errorProfilePassWordMessage none">元</p>
                <div>
                    <div>確認密碼</div>
                    <input type="password" disabled class="passwordEditInput" placeholder="確認新密碼" pattern="[0-9a-zA-Z]{5,12}" required oninput="value=value.replace(/\s+/g,'')"/>
                    <div>
                        <img src="/static/pic/eye-solid.svg" class="eye open-eye none">
                        <img src="/static/pic/eye-slash-solid.svg" class="eye closed-eye none">
                    </div>
                </div>
                <p class="errorProfilePassWordMessage none"></p>
                <img class="editProfileButton" src="/static/pic/icon_tech_drawings.png">
                <div>
                    <button class="resetProfileButton none">取消</button>
                    <button class="sendProfileButton none" disabled style="cursor:not-allowed">送出</button>
                </div>
            </fieldset>
        </section>
        <section id="memberHistoryOrderBox" class="none">
            <fieldset class="memberHistoryOrder"> 
                <legend>歷史訂單</small></legend> 
                <img class="editProfileButton" src="/static/pic/icon_tech_drawings.png">
                <div class="editProfileButton none">送出</div>
            </fieldset>
            <fieldset class="memberHistoryConsume"> 
                <legend>歷史花費</small></legend> 
                <div>
                    <div>總花費</div>
                    <div id="memberHistoryConsume"></div>
                </div>
            </fieldset>
            <fieldset class="memberHistoryTour"> 
                <legend>旅遊歷史</small></legend> 
                <div class="chartBox">
                    <canvas id="myChart"></canvas>
                </div>
            </fieldset>
        </section>
    </main>
    <div class="popupHistoryOrder none">
        <div></div>
        <div class="popupHistoryOrderCancelButton"></div>
        <div>歷史訂單資訊</div>
        <hr class="separator1"/>
        <div>
            <section class="bookingCardBox"></section>
        </div>
        <hr class="separator1"/>
        <div>
            <div>
                <div>聯絡人: </div>
                <div id="contactName"></div>
            </div>
            <div>
                <div>聯絡信箱:</div>
                <div id="contactEmail"></div>
            </div>
            <div>
                <div>聯絡電話:</div>
                <div id="contactPhone"></div>
            </div>
            <div>
                <div>總費用:</div>
                <div id="totalPrice"></div>
            </div>
        </div>
    </div>
    <div class="calendarBox">
        <div class="calendar" id='calendar'></div>
    </div>
    {% endblock %}
    {% block script %}
    <script rel="preload" as="script" type="module" src="/static/js/memberCenter.js"></script>
    <script type="module" src="/static/js/member.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/fullcalendar@5.11.3/main.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/fullcalendar@5.11.3/locales-all.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.4.0/Chart.min.js"></script>
    <script src="https://cdn.tutorialjinni.com/intl-tel-input/17.0.8/js/intlTelInput.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/croppie/2.6.5/croppie.js"></script>
    {% endblock %}